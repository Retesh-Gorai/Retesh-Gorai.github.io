<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script src="js/managerView.js"></script>

<link rel="stylesheet" href="css/stylesheet.css">
<style>
    table, th, td {
        border: 1px solid black;
        background: #7fbee7;

    }
    table.center {
        margin-left: auto;
        margin-right: auto;

    }
</style>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <ul class="nav navbar-nav navbar-left">
                <li><a href="http://localhost:8020/index"><span class="glyphicon glyphicon-calendar"></span></a></li>
            </ul>
    
            <div class="navbar-header">
                <a class="navbar-brand" href="http://localhost:8020/index">Leave Scheduler</a>
            </div>
    
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://localhost:8020/apply"><span class="glyphicon glyphicon-fire"></span> Apply</a></li>
                <li><a href="http://localhost:8020/approve"><span class="glyphicon glyphicon-fire"></span> Approve</a></li>
                <li><a href="http://localhost:8020/about"><span class="glyphicon glyphicon-fire"></span> About us</a></li>
                <li><a href="http://localhost:8020/logout"><span class="glyphicon glyphicon-fire"></span> Logout</a></li>
            </ul>
    
        </div>
    </nav>

   
<div style="display: inline-block; color: #fafafa; width: 100%">
    <h2 align="center">Approve Leave Requests</h2>
</div>



<div ng-app="myApp" ng-controller="customersCtrl">

    <table style="width: 80%; text-align: center; margin-left: auto; margin-right: auto">
        <tr>

            <td>ID</td>
            <td>Name</td>
            <td>Salary</td>
            <td>Age</td>

        </tr>
        <tr ng-repeat="x in employees.data">
            <td>{{ x.id }}</td>
            <td>{{ x.employee_name }}</td>
            <td>{{ x.employee_salary }}</td>
            <td>{{ x.employee_age }}</td>
        </tr>
    </table>

</div>

<script>
    var app = angular.module('myApp', []);
    app.controller('customersCtrl', function($scope) {

        var settings = {
            "url": "http://dummy.restapiexample.com/api/v1/employees",
            "method": "GET",
            "timeout": 0,
            "headers": {
                "Cookie": "ezoadgid_133674=-1; ezoref_133674=; ezoab_133674=mod16-c; active_template::133674=pub_site.1591512642"
            },
        };

        $.ajax(settings).done(function (response) {
            console.log(response);
            $scope.employees=response;
            $scope.$apply();
        });

    });
</script>

</body>
</html>